<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser
        for (i=0; i<window.geemails.length; i++){
        //console.log(geemails[i]);
      /*console.log(window.geemails.subject[i]);*/
      var createProfiles = document.createElement("div");
      createProfiles.className = "profiles";
      main.appendChild(createProfiles);
      var createDates = document.createElement("div");
      createDates.className = "dates";
      createDates.innerHTML = window.geemails[i].date;
      createProfiles.appendChild(createDates);
     
     var createSender = document.createElement("div");
     createSender.className = "senders";
     createSender.innerHTML = window.geemails[i].sender;
     createProfiles.appendChild(createSender);

     var createSub = document.createElement("div");
     createSub.className = "subjects";
     createSub.innerHTML = window.geemails[i].subject;
     createProfiles.appendChild(createSub);

     var createBody = document.createElement("div");
     createBody.className = "bodies";
     createBody.innerHTML = window.geemails[i].body;
     createProfiles.appendChild(createBody);
      }

      var profileShowHide = document.getElementsByClassName("profiles");

      for(var i = 0; i<profileShowHide.length; i++){
        profileShowHide[i].addEventListener("click", showHide);
      }

      function showHide(){
        var hideMessage = this.querySelectorAll(".bodies")[0];
        if(hideMessage.style.display === "none"){
          hideMessage.style.display = "block";
        }else{
          hideMessage.style.display = "none";
        }
      }

      var inboxCount = document.createElement("div");
      inboxCount.innerHTML = "Messages: "+ profileShowHide.length;
      main.appendChild(inboxCount);



      var setNewMessage = getNewMessage();
      //console.log(setNewMessage.date);

      function addNewMsg(){
        var newMsgDate = document.createElement("div");
        newMsgDate.className = "newMsgClass";
        newMsgDate.innerHTML = setNewMessage.date;
        main.appendChild(newMsgDate);
        var newMsgSub = document.createElement("div");
        newMsgSub.className = "newMsgClass";
        newMsgSub.innerHTML = setNewMessage.subject;
        main.appendChild(newMsgSub);
        var newMsgSender = document.createElement("div");
        newMsgSender.className = "newMsgClass";
        newMsgSender.innerHTML = setNewMessage.sender;
        main.appendChild(newMsgSender);
        var newMsgBody = document.createElement("div");
        newMsgBody.className = "newMsgBodyClass";
        newMsgBody.innerHTML = setNewMessage.body;
        main.appendChild(newMsgBody);
      }
      
      setInterval(addNewMsg, 1000);

      var newMsgShowHide = document.getElementsByClassName("newMsgClass");
      for(i = 0; i<newMsgShowHide.length; i++){
        newMsgShowHide[i].addEventListener("click", showHideNewMsg)
      }
      /*function showHideNewMsg{
        var 

      }
*/



     /* setNewMessage.innerHTML = setInterval(getNewMessage(), 2000);
      main.appendChild(setNewMessage);
      console.log(setNewMessage);
      console.log(getNewMessage());
*/


      };
    </script>
	</head>
	<body>
  <header>Gee-mail App</header>
		<div class="container" id="main">
	
		</div>
	</body>
</html>